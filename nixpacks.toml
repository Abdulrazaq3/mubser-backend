# Railway Nixpacks Configuration
# إضافة مكتبات OpenGL لـ OpenCV

[phases.setup]
nixPkgs = [
    "python310",
    "mesa",
    "libGL",
    "glib"
]

# إضافة مكتبات إضافية عبر setup commands
cmds = [
    "apt-get update || true",
    "apt-get install -y libgl1-mesa-glx libglib2.0-0 || true"
]

[phases.install]
cmds = ["pip install -r requirements.txt"]

[start]
cmd = "uvicorn app.main:app --host 0.0.0.0 --port $PORT"
